include /components/common/topic.pug
include /components/common/image.pug
-
  const i18n = Object.freeze( {
    'en-US': {
      'office': {
        'address':          'Office',
        'tel':              'Office Tel',
      },
      'profile': {
        'email':            'Email',
        'web':      'Personal Website',
      },
      'lab':                'Labtory',
      'specialty':          'Specialties',
      'education':          'Education',
      'experience':         'Experience',
      'award':              'Award',
      'publication':        'Publication',
      'patent':             'Patent',
      'technologyTransfer': 'Technology Transfer',
      'research':           'Research',
      'student': {
        'student':          'Student',
        'doctoral':         '博士生',
        'master':           '碩士生',
        'award':            '指導學生之特殊榮譽',
        'meeting':          '主辦及參與國際會議',
      },
      'publication': {
        'accepted':         'Accepted Papers to be Published',
        'refereed':         'Refereed Papers',
        'international':    'Conference Papers - 國際會議',
        'domestic':         'Conference Papers - 國內會議',
      },
      'research':{
        'tech':             'Tech-Research',
        'normal':           'Normal-Research',
      },
    },
    'zh-TW': {
      'office': {
        'address':          '辦公室',
        'tel':              '辦公室電話',
      },
      'profile': {
        'email':            '電子信箱',
        'web':      '個人網頁',
      },
      'lab':                '實驗室',
      'specialty':          '專長',
      'education':          '學歷',
      'experience':         '經歷',
      'award':              '榮譽及獲獎',
      'publication':        '著作',
      'patent':             '專利',
      'technologyTransfer': '技術轉移',
      'research':           '研究計劃',
      'student': {
        'student':          '指導學生',
        'doctoral':         '博士生',
        'master':           '碩士生',
        'award':            '指導學生之特殊榮譽',
        'meeting':          '主辦及參與國際會議',
      },
      'publication': {
        'accepted':         'Accepted Papers to be Published',
        'refereed':         'Refereed Papers',
        'international':    'Conference Papers - 國際會議',
        'domestic':         'Conference Papers - 國內會議',
      },
      'research':{
        'tech':             '科技部研究計畫',
        'normal':           '一般建教案',
      },
    },
  } );

mixin subtitle( text )
  h2.subtitle= text
mixin education__detail( array )
  each element in array
    section.education__detail.detail
      time.detail__begin= element.timeBegin
      p.detail__untill= '-'
      time.detail__end= element.timeEnd
      p.detail__country
      p.detail__school= element.school
      p.detail__department= element.department
      p.detail__degree= element.degree
mixin experience__detail( array )
  each element in array
    section.experience__detail.detail
      time.detail__begin= element.timeBegin
      p.detail__untill= '-'
      time.detail__end= element.timeEnd
      p.detail__school= element.school
      p.detail__department= element.department
      p.detail__degree= element.degree
mixin patent__table( array )
  table.patent__table.table
    tbody.table__body.body
      tr.body__titles.titles
        th.titles__title 類別
        th.titles__title 專利名稱
        th.titles__title 專利權人
        th.titles__title 國別
        th.titles__title 發明人
        th.titles__title 專利號碼
        th.titles__title 專利期間
      each element in array
        tr.body__details.details
          td.details__detail= element.type
          td.details__detail= element.name
          td.details__detail= element.belong
          td.details__detail
            p.detail__country
          td.details__detail= element.inventor
          td.details__detail= element.id
          td.details__detail
            section.detail__date.date
              time.date__begin= element.timeBegin
              | |
              time.date__end= element.timeEnd
mixin transfer__table( array )
  table.transfer__table.table
    tbody.table__body.body
      tr.body__titles.titles
        th.titles__title 項次
        th.titles__title 技術名稱
        th.titles__title 專利名稱
        th.titles__title 授權單位
        th.titles__title 接受單位
        th.titles__title 合約期間
      each element in array
        tr.body__details.details
          td.details__detail= element.id
          td.details__detail= element.techName
          td.details__detail= element.patentName
          td.details__detail= element.authority
          td.details__detail= element.accept
          td.details__detail
            section.detail__date.date
              time.date__begin= element.timeBegin
              | |
              time.date__end= element.timeEnd
mixin research__tableTech( array )
  table.research__table.table
    +subtitle( i18n[ language ].research.tech )
    tbody.table__body.body
      tr.body__titles.titles
        th.titles__title 企劃名稱
        th.titles__title 起迄日期
        th.titles__title 輔助單位
      each element in array
        tr.body__details.details
          td.details__detail= element.name
          td.details__detail.detail
            section.detail__date.date
              time.date__begin= element.timeBegin
              | -
              time.date__end= element.timeEnd
          td.details__detail= element.authority
mixin research__tableNormal( array )
  table.research__table.table
    +subtitle( i18n[ language ].research.normal )
    tbody.table__body.body
      tr.body__titles.titles
        th.titles__title 企劃名稱
        th.titles__title 起迄日期
        th.titles__title 輔助單位
      each element in array
        tr.body__details.details
          td.details__detail= element.name
          td.details__detail.detail
            section.detail__date.date
              time.date__begin= element.timeBegin
              | -
              time.date__end= element.timeEnd
          td.details__detail= element.authority
mixin award__list( array )
  - array.sort( (e1, e2) => e1.time > e2.time )
  each element in array
    p( class=`award__content` )= element.award + element.time
mixin student__list--memberdoc( array )
  each element in array
    p( class=`student__member--doctoral` )= element
mixin student__list--membermas( array )
  each element in array
    p( class=`student__member--master` )= element
mixin student__list--honor( array )
  each element in array
    p( class=`student__award` )= element
mixin student__list--meeting( array )
  each element in array
    p( class=`student__meeting` )= element
mixin publication__list( array )
  each element in array
    p( class=`publication__content` )= element


section.profile
  header.profile__name= profile.name
  if titles
    aside.profile__titles.titles
      each title in titles
        span.titles__title= title.title
  if departments
    aside.profile__departments.departments
      each department in departments
        span.departments__department= department.department
  if offices
    aside.profile__offices.offices
      each office in offices
        //- console.log(i18n[ language ].office.address)
        address.offices__address= `${ i18n[ language ].office.address } : ${ office.address }`
        a.offices__tel( href = `tel:${ office.tel }` )= `${ i18n[ language ].office.tel } : ${ office.tel }`
  a.profile__email( href = `mailto:${ profile.email }` )= `${ i18n[ language ].profile.email } : ${ profile.email }`
  if labs
    aside.profile__labs.labs
      each lab in labs
        a.labs__lab.lab( href = lab.labWeb )
          span.lab__name= `${ i18n[ language ].lab } : ${ lab.name }`
          address.lab__address= lab.address
  if profile.personalWeb
    a.profile__web( href = profile.personalWeb )= `${ i18n[ language ].profile.web } : ${ profile.personalWeb }`
  aside.profile__specialties.specialties
    h2.specialties__title= i18n[ language ].specialty
    each specialty in specialties
      span.specialties__specialty= specialty.specialty
  img.profile__photo( src = `http://www.csie.ncku.edu.tw/ncku_csie/images/teacher/teacher${ profile.profileId }.jpg`, alt = profile.name )

//- if education
  section.education
    +topic( i18n[ language ].education )
    +education__detail(education.detail)
//- if experience
  section.experience
    +topic( i18n[ language ].experience )
    +experience__detail(experience.detail)

//- if award
  section.award
    +topic( i18n[ language ].award )
    section.subtitle 2014
    +award__list( award )
    section.subtitle 2018
    +award__list( award )
//- if publicationAccepted || publicationRefereed || publicationInternational || publicationDomestic
  section.publication
    +topic( i18n[ language ].publication )
    if publicationAccepted
      +subtitle( i18n[ language ].publication.accepted )
      +publication__list( publicationAccepted )
    if publicationRefereed
      +subtitle( i18n[ language ].publication.refereed )
      +publication__list( publicationRefereed )
    if publicationInternational
      +subtitle( i18n[ language ].publication.international )
      +publication__list( publicationInternational )
    if publicationDomestic
      +subtitle( i18n[ language ].publication.domestic )
      +publication__list( publicationDomestic )
//- if patent
  section.patent
    +topic( i18n[ language ].patent )
    +patent__table(patent.tables)

    //- table.patent__table.table
      tbody.table__body.body
        tr.body__titles.titles
          th.titles__title 類別
          th.titles__title 專利名稱
          th.titles__title 專利權人
          th.titles__title 國別
          th.titles__title 發明人
          th.titles__title 專利號碼
          th.titles__title 專利期間
        tr.body__details.details
          td.details__detail A
          td.details__detail  機台維修系統與方法
          td.details__detail  國立成功大學
          td.details__detail
            p.detail__country
          td.details__detail  鄭方田
          td.details__detail  審查中
          td.details__detail
            time.detail__date 2016.09.11
//- if transfer
  section.transfer
    +topic( i18n[ language ].technologyTransfer )
    +transfer__table(transfer.tables)
//- if research
  section.research
    +topic( i18n[ language ].research )
    +research__tableTech(research.tableTech)
    +research__tableNormal(research.tableNormal)
//- if studentdoc || studentmas || studentAward || studentMeeting
  section.student
    +topic( i18n[ language ].student.student )
    if studentdoc
      +subtitle( i18n[ language ].student.doctoral )
      section.student__members
        +student__list--memberdoc( studentdoc )
    if studentmas
      +subtitle( i18n[ language ].student.master )
      section.student__members
        +student__list--membermas( studentmas )
    if studentAward
      +subtitle( i18n[ language ].student.award )
      +student__list--honor( studentAward )
    if studentMeeting
      +subtitle( i18n[ language ].student.meeting )
      +student__list--meeting( studentMeeting )
